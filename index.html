<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Can't Click Me!</title>
        <meta charset="UTF-8">
        <link rel="icon" href="favicon-ranges/favicon.ico" type="image/x-icon">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <!-- Preload critical fonts -->
        <link rel="preload" href="https://fonts.googleapis.com/css2?family=Anta&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <link href="https://fonts.googleapis.com/css2?family=Anta&display=swap" rel="stylesheet">
        <style>
            body {
                background-color: #222;
                color: white;
                margin: 0;
                padding: 0;
            }
            .main-content {
                max-width: 600px;
                margin: 0 auto;
                padding: 1rem;
                text-align: center;
            }
            #header {
                font-family: "Consolas", monospace;
            }
        </style>
        <!-- Defer non-critical CSS -->
        <link rel="stylesheet" href="style.css">
        
        <!-- Preconnect to Supabase -->
        <link rel="preconnect" href="https://gkfrlvfaersfknteuqwf.supabase.co">
    </head>

    <body>
        <!-- Move account div to bottom since it's not critical -->

        <h1 id="startingGame" style="display: none;">Starting Game...</h1>
        <div id="everything" style="display: none;">
            <div class="main-content">
                <p id="header">Betcha can't click the button!</p>
                <p id="teleportation"></p>
                <p id="timer"><br></p>
                <hr>
                <button class="round-btn">Try Click Me</button>
            </div>

            <div id="timeout" style="display: none;">
                <!-- ask_new_timeout()'s spot -->
                <button type="button" id="closeTimeout">X</button>
                <p id="header">Set Delay</p>
                <p>Enter the number of milliseconds to delay before the blocker</p>
                <p>pops up when you hover over the button.</p>
                <ul>
                    <li>Enter 1 for 100ms (tenth of a second) üèÉ</li>
                    <li>Enter 2 for 200ms</li>
                    <li>Enter 3 for 300ms</li>
                    <li>(and so on until...)</li>
                    <li>Enter 10 for 1000ms (which is a second) üê¢</li>
                </ul>

                <input placeholder="Enter choice here" id="timeoutChoice"> <!-- Timeout input -->
                <p id="invalidTimeout">Invalid. Try again!</p>
                <button type="button" id="submitTimeout">OK</button>
            </div>

            <div id="blocker">
                <!-- block()'s spot -->
                <p id="alertMsg"></p> <!-- JS inserts randitem from alertMsgs here -->
                <button type="button" id="closeBlock">Aw man</button> <!-- Close button -->
            </div>

            <div id="main-div">
                <div class="top-zone">
                    <div id="avatar-container"></div>
                    <p id="highScore"></p>
                    <button id="login-google">Login with Google <img src="images/ico-google.png" 
                        id="google-ico" 
                        loading="lazy" 
                        width="16" 
                        height="16" 
                        alt="Google Icon"></button>
                    <button id="leaderboard">Show leaderboard</button>
                    <button id="history">üìú History</button>
                </div>

                <div class="center-hr-wrapper">
                    <hr class="centered-hr" />
                </div>

                <div class="bottom-zone">
                    <button id="ask-new-timeout">Set New Timeout</button>
                    <div class="mode-toggle">
                        <label for="dark-mode">Dark Mode</label>
                        <input id="dark-mode" type="checkbox" checked>
                    </div>
                </div>
            </div>
        </div>

        <!-- Defer JavaScript -->
        <script src="script.js" type="module" defer></script>
    </body>
</html>